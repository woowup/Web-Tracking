(function(){function a(a,b,d,h){p.config=Object.assign({},q,p.config),p._publicKey=a||p._publicKey,p._metadata=d||p._metadata;let i=c();if(i){let c={publicKey:a,wuid:i,event:b,sessionId:e(),userAgent:window.navigator.userAgent,origin:window.location.href,referrer:document.referrer,utms:{source:g("utm_source"),medium:g("utm_medium"),campaign:g("utm_campaign"),term:g("utm_term")},metadata:d||{}};f(o,c,h)}}function b(a){return"_"+a}function c(){let a=window.WU.config.identifier,c=g(a);return c?(window.localStorage.setItem(b(a),c),c):(c=window.localStorage.getItem(b(a)),c?c:null)}function d(a){return a.getUTCFullYear()+(a.getUTCMonth()+1).toString().padStart(2,"0")+a.getUTCDate().toString().padStart(2,"0")+a.getUTCHours().toString().padStart(2,"0")}function e(){let a=window.localStorage.getItem(n),b=a,c=new Date;return(!a||c.getTime()-new Date(a).getTime()>1e3*window.WU.config.sessionDuration)&&(window.localStorage.setItem(n,c.toISOString()),b=c.toISOString()),d(new Date(b))}function f(a,b,c){var d=new XMLHttpRequest;d.open("POST",a),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Accept","application/json"),d.onreadystatechange=function(){4===d.readyState&&(200===d.status?c&&"function"==typeof c&&c():400<=d.status&&console.log("Request failed.  Returned status of "+d.status+". Text: "+d.responseText))},d.send(JSON.stringify(b))}function g(a,b){if(!a)return null;b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}function h(){return"Vtex"in window||"vtex"in window}function i(a,b,c){let d=new Vtex.JSEvents.Listener(b,c);skuEventDispatcher.addListener(a,d)}function j(a){return!!(a&&skuJson&&"skus"in skuJson&&skuJson.skus.length)&&skuJson.skus.find(function(b){return!0==b.available&&b.sku==a})}function k(){if(skuJson&&"skus"in skuJson&&skuJson.skus.length){let a=skuJson.skus.find(function(a){return!0==a.available});return a?a.sku:null}return null}function l(b){try{if(!b)return;let c=getSkuData(b);if(c&&p._trackProductVTEXField in c&&c[p._trackProductVTEXField]){let b=c[p._trackProductVTEXField];b&&-1==p._vtexUniqueSkus.indexOf(b)&&(p._metadata.sku=b,p._vtexUniqueSkus.push(b),a(p._publicKey,"product-view",p._metadata,p._callback))}}catch(a){console.error(a)}}function m(a){try{j(a.newSkuId)?l(a.newSkuId):console.info("[WU] The product "+a.newSkuId+" is not available")}catch(a){console.error(a)}}const n="_wulastsession",o="https://tracking.woowup.com/web-tracking/track";var p={};let q={sessionDuration:3600,identifier:"wuid"};if(p.config=Object.assign({},q),p.track=a,p.trackProductVTEX=function(a,b,c){p._publicKey=a||p._publicKey,p._metadata=b||p._metadata,p._callback=c||p._callback;var d=setInterval(function(){"undefined"!=typeof getSkuData&&(l(k()),clearInterval(d))},50)},p._trackProductVTEXField="reference",p._publicKey=null,p._metadata={},p._callback=void 0,window.WU=p,h()){p._vtexUniqueSkus=[];var r=setInterval(function(){"undefined"!=typeof window.Vtex&&(i("skuSelectionChanged","WoowUpVTEXTrackingSKUChanged",m),clearInterval(r))},50)}c(),e()})();